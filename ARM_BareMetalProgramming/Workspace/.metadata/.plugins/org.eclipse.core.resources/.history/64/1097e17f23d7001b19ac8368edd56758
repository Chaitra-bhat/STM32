/*
 * uart.c
 *
 *  Created on: Jun 27, 2021
 *      Author: Navjeevan
 */

#define GPIOA_ENABLE	(1U<<0)
#define USART2_EN		(1<<17)

#define SYSFREQ			16000000
#define APB1_CLK		SYSFREQ

#define UART_BAUDRATE	115200

#define CR1_TE			(1U<<3)
#define CR1_UE			(1U<<13)
#define SR_TXE			(1U<<7)

void uart_TX_init();
static uint16_t compute_uart_bd(uint32_t PeriphClk, uint32_t baudrate);
static void uart_set_baudrate(USART_TypeDef *USARTx, uint32_t PeriphClk, uint32_t baudrate);
void uart_write(int ch);

int __io_putchar(int ch)
{
	uart_write(ch);
	return ch;
}
