#include <stm32f407xx.h>
//#include<stm32f4xx.h>

#define GPIOD_EN	(1U<<3)
#define GPIOA_EN	(1U<<0)
#define BUTTON_PRESSED	1

#define PIN12		(1U<<12)
#define LED_PIN		PIN12
#define BUTTON_PIN  (1U<<0)

int main()
{
	//Enable clock FOR gpio A and D
	RCC->AHB1ENR |= GPIOD_EN;
	RCC->AHB1ENR |= GPIOA_EN;

	GPIOD->MODER |= (1U<<24);
	GPIOD->MODER &= ~(1U<<25);

	// For Button
	GPIOA->MODER &= ~(1U<<0);
	GPIOA->MODER &= ~(1U<<1);

	while(1)
	{
		//if(BUTTON_PRESSED == )
		GPIOD->BSRR = LED_PIN;
		for(int i=0; i<1000000;i++);

		GPIOD->BSRR = (1U<<28);
		for(int i=0; i<1000000;i++);
	}

	return 0;
}
